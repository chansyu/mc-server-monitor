{{define "title"}}Home{{end}}
{{define "main"}}
<main hx-boost="true" hx-push-url="false" hx-swap="afterbegin" hx-indicator=".htmx-indicator" hx-headers='{"X-CSRF-Token": "{{ .CSRFToken }}"}'>
    <h2>Home</h2>
    <section>
        <h3>Actions</h3>
        <button class="btn" hx-post="/start"
            hx-target="#response-log">
        Start
        </button>
        <button class="btn" hx-post="/stop"
                hx-target="#response-log">
        Stop
        </button>
        <button class="btn" hx-post="/restart"
                hx-target="#response-log">
        Restart
        </button>
        <button class="btn" hx-get="/status"
                hx-target="#response-log">
        Status
        </button>
        <button class="btn" hx-get="/seed"
                hx-target="#response-log">
        Seed
        </button>
        <button class="btn" hx-get="/players"
                hx-target="#response-log">
        Players
        </button>
        <form action="/message" method="post" hx-target="#response-log">
            <fieldset> 
                <legend>Message</legend>
                <p>
                    <label for="user">To:</label>
                    <select id="user" name="user">
                            <option value="All Players">All Players</option>
                            {{range .Players}}
                            <option value="{{.}}">{{.}}</option>
                            {{end}}
                    </select>
                </p>
                <p><label for="message-content">Content</label><input id="message" type="text" name="message"/></p>
                <input class="btn" type="submit" value="Message"/>
            </fieldset>
        </form>
        <span class="htmx-indicator loading loading-spinner loading-sm"></span>
    </section>
    <section>
        <h3>Responses</h3>
        <div id="response-log"></div>
    </section>
</main>
{{end}}